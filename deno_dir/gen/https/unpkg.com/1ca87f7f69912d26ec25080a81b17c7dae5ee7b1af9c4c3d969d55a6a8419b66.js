import Option from "./Option.ts";
import { removeBrackets, findAllBrackets, findLongest, padRight, CACError } from "./utils.ts";
import { platformInfo } from "./deno.ts";
class Command {
    options;
    aliasNames;
    /* Parsed command name */ name;
    args;
    commandAction;
    usageText;
    versionNumber;
    examples;
    helpCallback;
    globalCommand;
    constructor(rawName, description, config = {}, cli){
        this.rawName = rawName;
        this.description = description;
        this.config = config;
        this.cli = cli;
        this.options = [];
        this.aliasNames = [];
        this.name = removeBrackets(rawName);
        this.args = findAllBrackets(rawName);
        this.examples = [];
    }
    usage(text) {
        this.usageText = text;
        return this;
    }
    allowUnknownOptions() {
        this.config.allowUnknownOptions = true;
        return this;
    }
    ignoreOptionDefaultValue() {
        this.config.ignoreOptionDefaultValue = true;
        return this;
    }
    version(version, customFlags = '-v, --version') {
        this.versionNumber = version;
        this.option(customFlags, 'Display version number');
        return this;
    }
    example(example) {
        this.examples.push(example);
        return this;
    }
    /**
   * Add a option for this command
   * @param rawName Raw option name(s)
   * @param description Option description
   * @param config Option config
   */ option(rawName, description, config) {
        const option = new Option(rawName, description, config);
        this.options.push(option);
        return this;
    }
    alias(name) {
        this.aliasNames.push(name);
        return this;
    }
    action(callback) {
        this.commandAction = callback;
        return this;
    }
    /**
   * Check if a command name is matched by this command
   * @param name Command name
   */ isMatched(name) {
        return this.name === name || this.aliasNames.includes(name);
    }
    get isDefaultCommand() {
        return this.name === '' || this.aliasNames.includes('!');
    }
    get isGlobalCommand() {
        return this instanceof GlobalCommand;
    }
    /**
   * Check if an option is registered in this command
   * @param name Option name
   */ hasOption(name) {
        name = name.split('.')[0];
        return this.options.find((option)=>{
            return option.names.includes(name);
        });
    }
    outputHelp() {
        const { name , commands  } = this.cli;
        const { versionNumber , options: globalOptions , helpCallback  } = this.cli.globalCommand;
        let sections = [
            {
                body: `${name}${versionNumber ? `/${versionNumber}` : ''}`
            }
        ];
        sections.push({
            title: 'Usage',
            body: `  $ ${name} ${this.usageText || this.rawName}`
        });
        const showCommands = (this.isGlobalCommand || this.isDefaultCommand) && commands.length > 0;
        if (showCommands) {
            const longestCommandName = findLongest(commands.map((command)=>command.rawName));
            sections.push({
                title: 'Commands',
                body: commands.map((command)=>{
                    return `  ${padRight(command.rawName, longestCommandName.length)}  ${command.description}`;
                }).join('\n')
            });
            sections.push({
                title: `For more info, run any command with the \`--help\` flag`,
                body: commands.map((command)=>`  $ ${name}${command.name === '' ? '' : ` ${command.name}`} --help`).join('\n')
            });
        }
        let options = this.isGlobalCommand ? globalOptions : [
            ...this.options,
            ...globalOptions || []
        ];
        if (!this.isGlobalCommand && !this.isDefaultCommand) {
            options = options.filter((option)=>option.name !== 'version');
        }
        if (options.length > 0) {
            const longestOptionName = findLongest(options.map((option)=>option.rawName));
            sections.push({
                title: 'Options',
                body: options.map((option)=>{
                    return `  ${padRight(option.rawName, longestOptionName.length)}  ${option.description} ${option.config.default === undefined ? '' : `(default: ${option.config.default})`}`;
                }).join('\n')
            });
        }
        if (this.examples.length > 0) {
            sections.push({
                title: 'Examples',
                body: this.examples.map((example)=>{
                    if (typeof example === 'function') {
                        return example(name);
                    }
                    return example;
                }).join('\n')
            });
        }
        if (helpCallback) {
            sections = helpCallback(sections) || sections;
        }
        console.log(sections.map((section)=>{
            return section.title ? `${section.title}:\n${section.body}` : section.body;
        }).join('\n\n'));
    }
    outputVersion() {
        const { name  } = this.cli;
        const { versionNumber  } = this.cli.globalCommand;
        if (versionNumber) {
            console.log(`${name}/${versionNumber} ${platformInfo}`);
        }
    }
    checkRequiredArgs() {
        const minimalArgsCount = this.args.filter((arg)=>arg.required).length;
        if (this.cli.args.length < minimalArgsCount) {
            throw new CACError(`missing required args for command \`${this.rawName}\``);
        }
    }
    /**
   * Check if the parsed options contain any unknown options
   *
   * Exit and output error when true
   */ checkUnknownOptions() {
        const { options , globalCommand  } = this.cli;
        if (!this.config.allowUnknownOptions) {
            for (const name of Object.keys(options)){
                if (name !== '--' && !this.hasOption(name) && !globalCommand.hasOption(name)) {
                    throw new CACError(`Unknown option \`${name.length > 1 ? `--${name}` : `-${name}`}\``);
                }
            }
        }
    }
    /**
   * Check if the required string-type options exist
   */ checkOptionValue() {
        const { options: parsedOptions , globalCommand  } = this.cli;
        const options = [
            ...globalCommand.options,
            ...this.options
        ];
        for (const option of options){
            const value = parsedOptions[option.name.split('.')[0]]; // Check required option value
            if (option.required) {
                const hasNegated = options.some((o)=>o.negated && o.names.includes(option.name));
                if (value === true || value === false && !hasNegated) {
                    throw new CACError(`option \`${option.rawName}\` value is missing`);
                }
            }
        }
    }
    rawName;
    description;
    config;
    cli;
}
class GlobalCommand extends Command {
    constructor(cli){
        super('@@global@@', '', {}, cli);
    }
}
export { GlobalCommand };
export default Command;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vdW5wa2cuY29tL2NhY0A2LjcuMTIvZGVuby9Db21tYW5kLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDQUMgZnJvbSBcIi4vQ0FDLnRzXCI7XG5pbXBvcnQgT3B0aW9uLCB7IE9wdGlvbkNvbmZpZyB9IGZyb20gXCIuL09wdGlvbi50c1wiO1xuaW1wb3J0IHsgcmVtb3ZlQnJhY2tldHMsIGZpbmRBbGxCcmFja2V0cywgZmluZExvbmdlc3QsIHBhZFJpZ2h0LCBDQUNFcnJvciB9IGZyb20gXCIuL3V0aWxzLnRzXCI7XG5pbXBvcnQgeyBwbGF0Zm9ybUluZm8gfSBmcm9tIFwiLi9kZW5vLnRzXCI7XG5pbnRlcmZhY2UgQ29tbWFuZEFyZyB7XG4gIHJlcXVpcmVkOiBib29sZWFuO1xuICB2YWx1ZTogc3RyaW5nO1xuICB2YXJpYWRpYzogYm9vbGVhbjtcbn1cbmludGVyZmFjZSBIZWxwU2VjdGlvbiB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBib2R5OiBzdHJpbmc7XG59XG5pbnRlcmZhY2UgQ29tbWFuZENvbmZpZyB7XG4gIGFsbG93VW5rbm93bk9wdGlvbnM/OiBib29sZWFuO1xuICBpZ25vcmVPcHRpb25EZWZhdWx0VmFsdWU/OiBib29sZWFuO1xufVxudHlwZSBIZWxwQ2FsbGJhY2sgPSAoc2VjdGlvbnM6IEhlbHBTZWN0aW9uW10pID0+IHZvaWQgfCBIZWxwU2VjdGlvbltdO1xudHlwZSBDb21tYW5kRXhhbXBsZSA9ICgoYmluOiBzdHJpbmcpID0+IHN0cmluZykgfCBzdHJpbmc7XG5cbmNsYXNzIENvbW1hbmQge1xuICBvcHRpb25zOiBPcHRpb25bXTtcbiAgYWxpYXNOYW1lczogc3RyaW5nW107XG4gIC8qIFBhcnNlZCBjb21tYW5kIG5hbWUgKi9cblxuICBuYW1lOiBzdHJpbmc7XG4gIGFyZ3M6IENvbW1hbmRBcmdbXTtcbiAgY29tbWFuZEFjdGlvbj86ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55O1xuICB1c2FnZVRleHQ/OiBzdHJpbmc7XG4gIHZlcnNpb25OdW1iZXI/OiBzdHJpbmc7XG4gIGV4YW1wbGVzOiBDb21tYW5kRXhhbXBsZVtdO1xuICBoZWxwQ2FsbGJhY2s/OiBIZWxwQ2FsbGJhY2s7XG4gIGdsb2JhbENvbW1hbmQ/OiBHbG9iYWxDb21tYW5kO1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyByYXdOYW1lOiBzdHJpbmcsIHB1YmxpYyBkZXNjcmlwdGlvbjogc3RyaW5nLCBwdWJsaWMgY29uZmlnOiBDb21tYW5kQ29uZmlnID0ge30sIHB1YmxpYyBjbGk6IENBQykge1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMuYWxpYXNOYW1lcyA9IFtdO1xuICAgIHRoaXMubmFtZSA9IHJlbW92ZUJyYWNrZXRzKHJhd05hbWUpO1xuICAgIHRoaXMuYXJncyA9IGZpbmRBbGxCcmFja2V0cyhyYXdOYW1lKTtcbiAgICB0aGlzLmV4YW1wbGVzID0gW107XG4gIH1cblxuICB1c2FnZSh0ZXh0OiBzdHJpbmcpIHtcbiAgICB0aGlzLnVzYWdlVGV4dCA9IHRleHQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhbGxvd1Vua25vd25PcHRpb25zKCkge1xuICAgIHRoaXMuY29uZmlnLmFsbG93VW5rbm93bk9wdGlvbnMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaWdub3JlT3B0aW9uRGVmYXVsdFZhbHVlKCkge1xuICAgIHRoaXMuY29uZmlnLmlnbm9yZU9wdGlvbkRlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2ZXJzaW9uKHZlcnNpb246IHN0cmluZywgY3VzdG9tRmxhZ3MgPSAnLXYsIC0tdmVyc2lvbicpIHtcbiAgICB0aGlzLnZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uO1xuICAgIHRoaXMub3B0aW9uKGN1c3RvbUZsYWdzLCAnRGlzcGxheSB2ZXJzaW9uIG51bWJlcicpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZXhhbXBsZShleGFtcGxlOiBDb21tYW5kRXhhbXBsZSkge1xuICAgIHRoaXMuZXhhbXBsZXMucHVzaChleGFtcGxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQWRkIGEgb3B0aW9uIGZvciB0aGlzIGNvbW1hbmRcbiAgICogQHBhcmFtIHJhd05hbWUgUmF3IG9wdGlvbiBuYW1lKHMpXG4gICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBPcHRpb24gZGVzY3JpcHRpb25cbiAgICogQHBhcmFtIGNvbmZpZyBPcHRpb24gY29uZmlnXG4gICAqL1xuXG5cbiAgb3B0aW9uKHJhd05hbWU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgY29uZmlnPzogT3B0aW9uQ29uZmlnKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gbmV3IE9wdGlvbihyYXdOYW1lLCBkZXNjcmlwdGlvbiwgY29uZmlnKTtcbiAgICB0aGlzLm9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYWxpYXMobmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5hbGlhc05hbWVzLnB1c2gobmFtZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBhY3Rpb24oY2FsbGJhY2s6ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55KSB7XG4gICAgdGhpcy5jb21tYW5kQWN0aW9uID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgY29tbWFuZCBuYW1lIGlzIG1hdGNoZWQgYnkgdGhpcyBjb21tYW5kXG4gICAqIEBwYXJhbSBuYW1lIENvbW1hbmQgbmFtZVxuICAgKi9cblxuXG4gIGlzTWF0Y2hlZChuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lID09PSBuYW1lIHx8IHRoaXMuYWxpYXNOYW1lcy5pbmNsdWRlcyhuYW1lKTtcbiAgfVxuXG4gIGdldCBpc0RlZmF1bHRDb21tYW5kKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWUgPT09ICcnIHx8IHRoaXMuYWxpYXNOYW1lcy5pbmNsdWRlcygnIScpO1xuICB9XG5cbiAgZ2V0IGlzR2xvYmFsQ29tbWFuZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIEdsb2JhbENvbW1hbmQ7XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIGFuIG9wdGlvbiBpcyByZWdpc3RlcmVkIGluIHRoaXMgY29tbWFuZFxuICAgKiBAcGFyYW0gbmFtZSBPcHRpb24gbmFtZVxuICAgKi9cblxuXG4gIGhhc09wdGlvbihuYW1lOiBzdHJpbmcpIHtcbiAgICBuYW1lID0gbmFtZS5zcGxpdCgnLicpWzBdO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuZmluZChvcHRpb24gPT4ge1xuICAgICAgcmV0dXJuIG9wdGlvbi5uYW1lcy5pbmNsdWRlcyhuYW1lKTtcbiAgICB9KTtcbiAgfVxuXG4gIG91dHB1dEhlbHAoKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGNvbW1hbmRzXG4gICAgfSA9IHRoaXMuY2xpO1xuICAgIGNvbnN0IHtcbiAgICAgIHZlcnNpb25OdW1iZXIsXG4gICAgICBvcHRpb25zOiBnbG9iYWxPcHRpb25zLFxuICAgICAgaGVscENhbGxiYWNrXG4gICAgfSA9IHRoaXMuY2xpLmdsb2JhbENvbW1hbmQ7XG4gICAgbGV0IHNlY3Rpb25zOiBIZWxwU2VjdGlvbltdID0gW3tcbiAgICAgIGJvZHk6IGAke25hbWV9JHt2ZXJzaW9uTnVtYmVyID8gYC8ke3ZlcnNpb25OdW1iZXJ9YCA6ICcnfWBcbiAgICB9XTtcbiAgICBzZWN0aW9ucy5wdXNoKHtcbiAgICAgIHRpdGxlOiAnVXNhZ2UnLFxuICAgICAgYm9keTogYCAgJCAke25hbWV9ICR7dGhpcy51c2FnZVRleHQgfHwgdGhpcy5yYXdOYW1lfWBcbiAgICB9KTtcbiAgICBjb25zdCBzaG93Q29tbWFuZHMgPSAodGhpcy5pc0dsb2JhbENvbW1hbmQgfHwgdGhpcy5pc0RlZmF1bHRDb21tYW5kKSAmJiBjb21tYW5kcy5sZW5ndGggPiAwO1xuXG4gICAgaWYgKHNob3dDb21tYW5kcykge1xuICAgICAgY29uc3QgbG9uZ2VzdENvbW1hbmROYW1lID0gZmluZExvbmdlc3QoY29tbWFuZHMubWFwKGNvbW1hbmQgPT4gY29tbWFuZC5yYXdOYW1lKSk7XG4gICAgICBzZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICdDb21tYW5kcycsXG4gICAgICAgIGJvZHk6IGNvbW1hbmRzLm1hcChjb21tYW5kID0+IHtcbiAgICAgICAgICByZXR1cm4gYCAgJHtwYWRSaWdodChjb21tYW5kLnJhd05hbWUsIGxvbmdlc3RDb21tYW5kTmFtZS5sZW5ndGgpfSAgJHtjb21tYW5kLmRlc2NyaXB0aW9ufWA7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpXG4gICAgICB9KTtcbiAgICAgIHNlY3Rpb25zLnB1c2goe1xuICAgICAgICB0aXRsZTogYEZvciBtb3JlIGluZm8sIHJ1biBhbnkgY29tbWFuZCB3aXRoIHRoZSBcXGAtLWhlbHBcXGAgZmxhZ2AsXG4gICAgICAgIGJvZHk6IGNvbW1hbmRzLm1hcChjb21tYW5kID0+IGAgICQgJHtuYW1lfSR7Y29tbWFuZC5uYW1lID09PSAnJyA/ICcnIDogYCAke2NvbW1hbmQubmFtZX1gfSAtLWhlbHBgKS5qb2luKCdcXG4nKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGV0IG9wdGlvbnMgPSB0aGlzLmlzR2xvYmFsQ29tbWFuZCA/IGdsb2JhbE9wdGlvbnMgOiBbLi4udGhpcy5vcHRpb25zLCAuLi4oZ2xvYmFsT3B0aW9ucyB8fCBbXSldO1xuXG4gICAgaWYgKCF0aGlzLmlzR2xvYmFsQ29tbWFuZCAmJiAhdGhpcy5pc0RlZmF1bHRDb21tYW5kKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucy5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5uYW1lICE9PSAndmVyc2lvbicpO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGxvbmdlc3RPcHRpb25OYW1lID0gZmluZExvbmdlc3Qob3B0aW9ucy5tYXAob3B0aW9uID0+IG9wdGlvbi5yYXdOYW1lKSk7XG4gICAgICBzZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICdPcHRpb25zJyxcbiAgICAgICAgYm9keTogb3B0aW9ucy5tYXAob3B0aW9uID0+IHtcbiAgICAgICAgICByZXR1cm4gYCAgJHtwYWRSaWdodChvcHRpb24ucmF3TmFtZSwgbG9uZ2VzdE9wdGlvbk5hbWUubGVuZ3RoKX0gICR7b3B0aW9uLmRlc2NyaXB0aW9ufSAke29wdGlvbi5jb25maWcuZGVmYXVsdCA9PT0gdW5kZWZpbmVkID8gJycgOiBgKGRlZmF1bHQ6ICR7b3B0aW9uLmNvbmZpZy5kZWZhdWx0fSlgfWA7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5leGFtcGxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWN0aW9ucy5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICdFeGFtcGxlcycsXG4gICAgICAgIGJvZHk6IHRoaXMuZXhhbXBsZXMubWFwKGV4YW1wbGUgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2YgZXhhbXBsZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGV4YW1wbGUobmFtZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGV4YW1wbGU7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoaGVscENhbGxiYWNrKSB7XG4gICAgICBzZWN0aW9ucyA9IGhlbHBDYWxsYmFjayhzZWN0aW9ucykgfHwgc2VjdGlvbnM7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coc2VjdGlvbnMubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgcmV0dXJuIHNlY3Rpb24udGl0bGUgPyBgJHtzZWN0aW9uLnRpdGxlfTpcXG4ke3NlY3Rpb24uYm9keX1gIDogc2VjdGlvbi5ib2R5O1xuICAgIH0pLmpvaW4oJ1xcblxcbicpKTtcbiAgfVxuXG4gIG91dHB1dFZlcnNpb24oKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZVxuICAgIH0gPSB0aGlzLmNsaTtcbiAgICBjb25zdCB7XG4gICAgICB2ZXJzaW9uTnVtYmVyXG4gICAgfSA9IHRoaXMuY2xpLmdsb2JhbENvbW1hbmQ7XG5cbiAgICBpZiAodmVyc2lvbk51bWJlcikge1xuICAgICAgY29uc29sZS5sb2coYCR7bmFtZX0vJHt2ZXJzaW9uTnVtYmVyfSAke3BsYXRmb3JtSW5mb31gKTtcbiAgICB9XG4gIH1cblxuICBjaGVja1JlcXVpcmVkQXJncygpIHtcbiAgICBjb25zdCBtaW5pbWFsQXJnc0NvdW50ID0gdGhpcy5hcmdzLmZpbHRlcihhcmcgPT4gYXJnLnJlcXVpcmVkKS5sZW5ndGg7XG5cbiAgICBpZiAodGhpcy5jbGkuYXJncy5sZW5ndGggPCBtaW5pbWFsQXJnc0NvdW50KSB7XG4gICAgICB0aHJvdyBuZXcgQ0FDRXJyb3IoYG1pc3NpbmcgcmVxdWlyZWQgYXJncyBmb3IgY29tbWFuZCBcXGAke3RoaXMucmF3TmFtZX1cXGBgKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBwYXJzZWQgb3B0aW9ucyBjb250YWluIGFueSB1bmtub3duIG9wdGlvbnNcbiAgICpcbiAgICogRXhpdCBhbmQgb3V0cHV0IGVycm9yIHdoZW4gdHJ1ZVxuICAgKi9cblxuXG4gIGNoZWNrVW5rbm93bk9wdGlvbnMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgb3B0aW9ucyxcbiAgICAgIGdsb2JhbENvbW1hbmRcbiAgICB9ID0gdGhpcy5jbGk7XG5cbiAgICBpZiAoIXRoaXMuY29uZmlnLmFsbG93VW5rbm93bk9wdGlvbnMpIHtcbiAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICBpZiAobmFtZSAhPT0gJy0tJyAmJiAhdGhpcy5oYXNPcHRpb24obmFtZSkgJiYgIWdsb2JhbENvbW1hbmQuaGFzT3B0aW9uKG5hbWUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IENBQ0Vycm9yKGBVbmtub3duIG9wdGlvbiBcXGAke25hbWUubGVuZ3RoID4gMSA/IGAtLSR7bmFtZX1gIDogYC0ke25hbWV9YH1cXGBgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHJlcXVpcmVkIHN0cmluZy10eXBlIG9wdGlvbnMgZXhpc3RcbiAgICovXG5cblxuICBjaGVja09wdGlvblZhbHVlKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG9wdGlvbnM6IHBhcnNlZE9wdGlvbnMsXG4gICAgICBnbG9iYWxDb21tYW5kXG4gICAgfSA9IHRoaXMuY2xpO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBbLi4uZ2xvYmFsQ29tbWFuZC5vcHRpb25zLCAuLi50aGlzLm9wdGlvbnNdO1xuXG4gICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZWRPcHRpb25zW29wdGlvbi5uYW1lLnNwbGl0KCcuJylbMF1dOyAvLyBDaGVjayByZXF1aXJlZCBvcHRpb24gdmFsdWVcblxuICAgICAgaWYgKG9wdGlvbi5yZXF1aXJlZCkge1xuICAgICAgICBjb25zdCBoYXNOZWdhdGVkID0gb3B0aW9ucy5zb21lKG8gPT4gby5uZWdhdGVkICYmIG8ubmFtZXMuaW5jbHVkZXMob3B0aW9uLm5hbWUpKTtcblxuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IGZhbHNlICYmICFoYXNOZWdhdGVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IENBQ0Vycm9yKGBvcHRpb24gXFxgJHtvcHRpb24ucmF3TmFtZX1cXGAgdmFsdWUgaXMgbWlzc2luZ2ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbn1cblxuY2xhc3MgR2xvYmFsQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICBjb25zdHJ1Y3RvcihjbGk6IENBQykge1xuICAgIHN1cGVyKCdAQGdsb2JhbEBAJywgJycsIHt9LCBjbGkpO1xuICB9XG5cbn1cblxuZXhwb3J0IHR5cGUgeyBIZWxwQ2FsbGJhY2ssIENvbW1hbmRFeGFtcGxlLCBDb21tYW5kQ29uZmlnIH07XG5leHBvcnQgeyBHbG9iYWxDb21tYW5kIH07XG5leHBvcnQgZGVmYXVsdCBDb21tYW5kOyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLE1BQU0sTUFBd0IsYUFBYSxDQUFDO0FBQ25ELFNBQVMsY0FBYyxFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLFFBQVEsUUFBUSxZQUFZLENBQUM7QUFDOUYsU0FBUyxZQUFZLFFBQVEsV0FBVyxDQUFDO0FBaUJ6QyxNQUFNLE9BQU87SUFDWCxPQUFPLENBQVc7SUFDbEIsVUFBVSxDQUFXO0lBQ3JCLHlCQUF5QixDQUV6QixJQUFJLENBQVM7SUFDYixJQUFJLENBQWU7SUFDbkIsYUFBYSxDQUEyQjtJQUN4QyxTQUFTLENBQVU7SUFDbkIsYUFBYSxDQUFVO0lBQ3ZCLFFBQVEsQ0FBbUI7SUFDM0IsWUFBWSxDQUFnQjtJQUM1QixhQUFhLENBQWlCO0lBRTlCLFlBQW1CLE9BQWUsRUFBUyxXQUFtQixFQUFTLE1BQXFCLEdBQUcsRUFBRSxFQUFTLEdBQVEsQ0FBRTthQUFqRyxPQUFlLEdBQWYsT0FBZTthQUFTLFdBQW1CLEdBQW5CLFdBQW1CO2FBQVMsTUFBcUIsR0FBckIsTUFBcUI7YUFBYyxHQUFRLEdBQVIsR0FBUTtRQUNoSCxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNwQyxJQUFJLENBQUMsSUFBSSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztLQUNwQjtJQUVELEtB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