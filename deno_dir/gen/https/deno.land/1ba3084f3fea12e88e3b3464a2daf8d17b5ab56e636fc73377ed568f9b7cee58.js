const decoder = new TextDecoder();
/**
 * Returns an Uint8Array from standard input
 */ export async function getStdinBuffer(options = {}) {
    const bytes = [];
    while(true){
        // Read bytes one by one
        const buffer = new Uint8Array(1);
        const readStatus = await Deno.stdin.read(buffer);
        // Found EOL
        if (readStatus === null || readStatus === 0) {
            break;
        }
        const byte = buffer[0];
        // On Enter, exit if we are supposed to
        if (byte === 10 && options.exitOnEnter !== false) {
            break;
        }
        bytes.push(byte);
    }
    return Uint8Array.from(bytes);
}
/**
 * Returns a string from standard input
 */ export async function getStdin(options = {}) {
    const buffer = await getStdinBuffer(options);
    return decoder.decode(buffer);
}
/**
 * Returns an Uint8Array from standard input in sync mode
 */ export function getStdinBufferSync(options = {}) {
    const bytes = [];
    while(true){
        // Read bytes one by one
        const buffer = new Uint8Array(1);
        const readStatus = Deno.stdin.readSync(buffer);
        // Found EOL
        if (readStatus === null || readStatus === 0) {
            break;
        }
        const byte = buffer[0];
        // On Enter, exit if we are supposed to
        if (byte === 10 && options.exitOnEnter !== false) {
            break;
        }
        bytes.push(byte);
    }
    return Uint8Array.from(bytes);
}
/**
 * Returns a string from standard input in sync mode
 */ export function getStdinSync(options = {}) {
    const buffer = getStdinBufferSync(options);
    return decoder.decode(buffer);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvZ2V0X3N0ZGluQHYxLjEuMC9tb2QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdldFN0ZGluT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBJZiBgdHJ1ZWAsIHN0b3AgcmVhZGluZyB0aGUgc3RkaW4gb25jZSBhIG5ld2xpbmUgY2hhciBpcyByZWFjaGVkXG4gICAqIEBkZWZhdWx0IHRydWVcbiAgICovXG4gIGV4aXRPbkVudGVyPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIFVpbnQ4QXJyYXkgZnJvbSBzdGFuZGFyZCBpbnB1dFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U3RkaW5CdWZmZXIoXG4gIG9wdGlvbnM6IEdldFN0ZGluT3B0aW9ucyA9IHt9XG4pOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgY29uc3QgYnl0ZXM6IG51bWJlcltdID0gW107XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICAvLyBSZWFkIGJ5dGVzIG9uZSBieSBvbmVcbiAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICBjb25zdCByZWFkU3RhdHVzID0gYXdhaXQgRGVuby5zdGRpbi5yZWFkKGJ1ZmZlcik7XG5cbiAgICAvLyBGb3VuZCBFT0xcbiAgICBpZiAocmVhZFN0YXR1cyA9PT0gbnVsbCB8fCByZWFkU3RhdHVzID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBjb25zdCBieXRlID0gYnVmZmVyWzBdO1xuXG4gICAgLy8gT24gRW50ZXIsIGV4aXQgaWYgd2UgYXJlIHN1cHBvc2VkIHRvXG4gICAgaWYgKGJ5dGUgPT09IDEwICYmIG9wdGlvbnMuZXhpdE9uRW50ZXIgIT09IGZhbHNlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBieXRlcy5wdXNoKGJ5dGUpO1xuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHN0cmluZyBmcm9tIHN0YW5kYXJkIGlucHV0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTdGRpbihvcHRpb25zOiBHZXRTdGRpbk9wdGlvbnMgPSB7fSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IGdldFN0ZGluQnVmZmVyKG9wdGlvbnMpO1xuXG4gIHJldHVybiBkZWNvZGVyLmRlY29kZShidWZmZXIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gVWludDhBcnJheSBmcm9tIHN0YW5kYXJkIGlucHV0IGluIHN5bmMgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RkaW5CdWZmZXJTeW5jKG9wdGlvbnM6IEdldFN0ZGluT3B0aW9ucyA9IHt9KTogVWludDhBcnJheSB7XG4gIGNvbnN0IGJ5dGVzOiBudW1iZXJbXSA9IFtdO1xuXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgLy8gUmVhZCBieXRlcyBvbmUgYnkgb25lXG4gICAgY29uc3QgYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMSk7XG4gICAgY29uc3QgcmVhZFN0YXR1cyA9IERlbm8uc3RkaW4ucmVhZFN5bmMoYnVmZmVyKTtcblxuICAgIC8vIEZvdW5kIEVPTFxuICAgIGlmIChyZWFkU3RhdHVzID09PSBudWxsIHx8IHJlYWRTdGF0dXMgPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IGJ5dGUgPSBidWZmZXJbMF07XG5cbiAgICAvLyBPbiBFbnRlciwgZXhpdCBpZiB3ZSBhcmUgc3VwcG9zZWQgdG9cbiAgICBpZiAoYnl0ZSA9PT0gMTAgJiYgb3B0aW9ucy5leGl0T25FbnRlciAhPT0gZmFsc2UpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGJ5dGVzLnB1c2goYnl0ZSk7XG4gIH1cblxuICByZXR1cm4gVWludDhBcnJheS5mcm9tKGJ5dGVzKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3RyaW5nIGZyb20gc3RhbmRhcmQgaW5wdXQgaW4gc3luYyBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGRpblN5bmMob3B0aW9uczogR2V0U3RkaW5PcHRpb25zID0ge30pOiBzdHJpbmcge1xuICBjb25zdCBidWZmZXIgPSBnZXRTdGRpbkJ1ZmZlclN5bmMob3B0aW9ucyk7XG5cbiAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKGJ1ZmZlcik7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxPQUFPLEdBQUcsSUFBSSxXQUFXLEVBQUUsQUFBQztBQVVsQzs7R0FFRyxDQUNILE9BQU8sZUFBZSxjQUFjLENBQ2xDLE9BQXdCLEdBQUcsRUFBRSxFQUNSO0lBQ3JCLE1BQU0sS0FBSyxHQUFhLEVBQUUsQUFBQztJQUUzQixNQUFPLElBQUksQ0FBRTtRQUNYLHdCQUF3QjtRQUN4QixNQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQUFBQztRQUNqQyxNQUFNLFVBQVUsR0FBRyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxBQUFDO1FBRWpELFlBQVk7UUFDWixJQUFJLFVBQVUsS0FBSyxJQUFJLElBQUksVUFBVSxLQUFLLENBQUMsRUFBRTtZQUMzQyxNQUFNO1NBQ1A7UUFFRCxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLEFBQUM7UUFFdkIsdUNBQXVDO1FBQ3ZDLElBQUksSUFBSSxLQUFLLEVBQUUsSUFBSSxPQUFPLENBQUMsV0FBVyxLQUFLLEtBQUssRUFBRTtZQUNoRCxNQUFNO1NBQ1A7UUFFRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCO0lBRUQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQy9CO0FBRUQ7O0dBRUcsQ0FDSCxPQUFPLGVBQWUsUUFBUSxDQUFDLE9BQXdCLEdBQUcsRUFBRSxFQUFtQjtJQUM3RSxNQUFNLE1BQU0sR0FBRyxNQUFNLGNBQWMsQ0FBQyxPQUFPLENBQUMsQUFBQztJQUU3QyxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7Q0FDL0I7QUFFRDs7R0FFRyxDQUNILE9BQU8sU0FBUyxrQkFBa0IsQ0FBQyxPQUF3QixHQUFHLEVBQUUsRUFBYztJQUM1RSxNQUFNLEtBQUssR0FBYSxFQUFFLEFBQUM7SUFFM0IsTUFBTyxJQUFJLENBQUU7UUFDWCx3QkFBd0I7UUFDeEIsTUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLEFBQUM7UUFDakMsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEFBQUM7UUFFL0MsWUFBWTtRQUNaLElBQUksVUFBVSxLQUFLLElBQUksSUFBSSxVQUFVLEtBQUssQ0FBQyxFQUFFO1lBQzNDLE1BQU07U0FDUDtRQUVELE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQUFBQztRQUV2Qix1Q0FBdUM7UUFDdkMsSUFBSSxJQUFJLEtBQUssRUFBRSxJQUFJLE9BQU8sQ0FBQyxXQUFXLEtBQUssS0FBSyxFQUFFO1lBQ2hELE1BQU07U0FDUDtRQUVELEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbEI7SUFFRCxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDL0I7QUFFRDs7R0FFRyxDQUNILE9BQU8sU0FBUyxZQUFZLENBQUMsT0FBd0IsR0FBRyxFQUFFLEVBQVU7SUFDbEUsTUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxDQUFDLEFBQUM7SUFFM0MsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0NBQy9CIn0=