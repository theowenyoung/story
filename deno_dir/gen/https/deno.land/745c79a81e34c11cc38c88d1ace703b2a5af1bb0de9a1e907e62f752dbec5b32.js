// Copyright 2018-2020 the Deno authors. All rights reserved. MIT license.
import { bytesToUuid } from "./_common.ts";
const UUID_RE = new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$", "i");
export function validate(id) {
    return UUID_RE.test(id);
}
export function generate() {
    const rnds = crypto.getRandomValues(new Uint8Array(16));
    rnds[6] = rnds[6] & 0x0f | 0x40; // Version 4
    rnds[8] = rnds[8] & 0x3f | 0x80; // Variant 10
    return bytesToUuid(rnds);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjUxLjAvdXVpZC92NC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxOC0yMDIwIHRoZSBEZW5vIGF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuIE1JVCBsaWNlbnNlLlxuXG5pbXBvcnQgeyBieXRlc1RvVXVpZCB9IGZyb20gXCIuL19jb21tb24udHNcIjtcblxuY29uc3QgVVVJRF9SRSA9IG5ldyBSZWdFeHAoXG4gIFwiXlswLTlhLWZdezh9LVswLTlhLWZdezR9LTRbMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn0kXCIsXG4gIFwiaVwiXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gVVVJRF9SRS50ZXN0KGlkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKCk6IHN0cmluZyB7XG4gIGNvbnN0IHJuZHMgPSBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDE2KSk7XG5cbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwOyAvLyBWZXJzaW9uIDRcbiAgcm5kc1s4XSA9IChybmRzWzhdICYgMHgzZikgfCAweDgwOyAvLyBWYXJpYW50IDEwXG5cbiAgcmV0dXJuIGJ5dGVzVG9VdWlkKHJuZHMpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBFQUEwRTtBQUUxRSxTQUFTLFdBQVcsUUFBUSxjQUFjLENBQUM7QUFFM0MsTUFBTSxPQUFPLEdBQUcsSUFBSSxNQUFNLENBQ3hCLHVFQUF1RSxFQUN2RSxHQUFHLENBQ0osQUFBQztBQUVGLE9BQU8sU0FBUyxRQUFRLENBQUMsRUFBVSxFQUFXO0lBQzVDLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztDQUN6QjtBQUVELE9BQU8sU0FBUyxRQUFRLEdBQVc7SUFDakMsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxBQUFDO0lBRXhELElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxBQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUksSUFBSSxDQUFDLENBQUMsWUFBWTtJQUMvQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFJLElBQUksQ0FBQyxDQUFDLGFBQWE7SUFFaEQsT0FBTyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDMUIifQ==